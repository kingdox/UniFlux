<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="327px" preserveAspectRatio="none" style="width:611px;height:327px;" version="1.1" viewBox="0 0 611 327" width="611px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v7ncnnrq6h6n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[7802912d10722e411f9a2c97495fb483]
class RollbackObject--><rect fill="#FEFECE" filter="url(#f1v7ncnnrq6h6n)" height="92.3516" id="RollbackObject" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="195.81" y="116"/><ellipse cx="244.06" cy="134.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M247.0288,140.6094 Q246.4506,140.9063 245.81,141.0469 Q245.1694,141.2031 244.4663,141.2031 Q241.9663,141.2031 240.6381,139.5625 Q239.3256,137.9063 239.3256,134.7813 Q239.3256,131.6563 240.6381,130 Q241.9663,128.3438 244.4663,128.3438 Q245.1694,128.3438 245.81,128.5 Q246.4663,128.6563 247.0288,128.9531 L247.0288,131.6719 Q246.4038,131.0938 245.81,130.8281 Q245.2163,130.5469 244.5913,130.5469 Q243.2475,130.5469 242.56,131.625 Q241.8725,132.6875 241.8725,134.7813 Q241.8725,136.875 242.56,137.9531 Q243.2475,139.0156 244.5913,139.0156 Q245.2163,139.0156 245.81,138.75 Q246.4038,138.4688 247.0288,137.8906 L247.0288,140.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="283.06" y="132.1387">«sealed»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="264.56" y="146.1074">RollbackObject</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="196.81" x2="391.81" y1="153.9375" y2="153.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="196.81" x2="391.81" y1="161.9375" y2="161.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="201.81" y="176.1479">Save(_state:object) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="201.81" y="188.9526">Reverse(fpsToReverse:int) : void</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="201.81" y="201.7573">Undo() : void</text><!--MD5=[a11544de820a927b3dbade298cf8c341]
class Action`1--><rect fill="#FEFECE" filter="url(#f1v7ncnnrq6h6n)" height="48" id="Action`1" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="246.31" y="268"/><ellipse cx="261.31" cy="284" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M264.2788,289.6406 Q263.7006,289.9375 263.06,290.0781 Q262.4194,290.2344 261.7163,290.2344 Q259.2163,290.2344 257.8881,288.5938 Q256.5756,286.9375 256.5756,283.8125 Q256.5756,280.6875 257.8881,279.0313 Q259.2163,277.375 261.7163,277.375 Q262.4194,277.375 263.06,277.5313 Q263.7163,277.6875 264.2788,277.9844 L264.2788,280.7031 Q263.6538,280.125 263.06,279.8594 Q262.4663,279.5781 261.8413,279.5781 Q260.4975,279.5781 259.81,280.6563 Q259.1225,281.7188 259.1225,283.8125 Q259.1225,285.9063 259.81,286.9844 Q260.4975,288.0469 261.8413,288.0469 Q262.4663,288.0469 263.06,287.7813 Q263.6538,287.5 264.2788,286.9219 L264.2788,289.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="275.31" y="288.1543">Action`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="336.31" y="265"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="337.31" y="277.1387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.31" x2="341.31" y1="300" y2="300"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247.31" x2="341.31" y1="308" y2="308"/><!--MD5=[26781dc8bf411e73e2fcee7fe934b878]
class IRollback--><rect fill="#FEFECE" filter="url(#f1v7ncnnrq6h6n)" height="48" id="IRollback" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="250.81" y="8"/><ellipse cx="265.81" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M268.7788,29.6406 Q268.2006,29.9375 267.56,30.0781 Q266.9194,30.2344 266.2163,30.2344 Q263.7163,30.2344 262.3881,28.5938 Q261.0756,26.9375 261.0756,23.8125 Q261.0756,20.6875 262.3881,19.0313 Q263.7163,17.375 266.2163,17.375 Q266.9194,17.375 267.56,17.5313 Q268.2163,17.6875 268.7788,17.9844 L268.7788,20.7031 Q268.1538,20.125 267.56,19.8594 Q266.9663,19.5781 266.3413,19.5781 Q264.9975,19.5781 264.31,20.6563 Q263.6225,21.7188 263.6225,23.8125 Q263.6225,25.9063 264.31,26.9844 Q264.9975,28.0469 266.3413,28.0469 Q266.9663,28.0469 267.56,27.7813 Q268.1538,27.5 268.7788,26.9219 L268.7788,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="279.81" y="28.1543">IRollback</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="251.81" x2="336.81" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="251.81" x2="336.81" y1="48" y2="48"/><!--MD5=[f8e7078f77c005d15b486c0c98deb1e6]
class Action--><rect fill="#FEFECE" filter="url(#f1v7ncnnrq6h6n)" height="48" id="Action" style="stroke: #A80036; stroke-width: 1.5;" width="71" x="377.81" y="268"/><ellipse cx="392.81" cy="284" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M395.7788,289.6406 Q395.2006,289.9375 394.56,290.0781 Q393.9194,290.2344 393.2163,290.2344 Q390.7163,290.2344 389.3881,288.5938 Q388.0756,286.9375 388.0756,283.8125 Q388.0756,280.6875 389.3881,279.0313 Q390.7163,277.375 393.2163,277.375 Q393.9194,277.375 394.56,277.5313 Q395.2163,277.6875 395.7788,277.9844 L395.7788,280.7031 Q395.1538,280.125 394.56,279.8594 Q393.9663,279.5781 393.3413,279.5781 Q391.9975,279.5781 391.31,280.6563 Q390.6225,281.7188 390.6225,283.8125 Q390.6225,285.9063 391.31,286.9844 Q391.9975,288.0469 393.3413,288.0469 Q393.9663,288.0469 394.56,287.7813 Q395.1538,287.5 395.7788,286.9219 L395.7788,289.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="406.81" y="288.1543">Action</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="378.81" x2="447.81" y1="300" y2="300"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="378.81" x2="447.81" y1="308" y2="308"/><!--MD5=[cdce04ec5737402e67dd9c34f327af62]
reverse link IRollback to RollbackObject--><path d="M294.31,76.62 C294.31,89.31 294.31,103.2 294.31,115.98 " fill="none" id="IRollback&lt;-RollbackObject" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="287.31,76.18,294.31,56.18,301.31,76.18,287.31,76.18" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d2800dca0badf72a1bedbd2cb9c21907]
link RollbackObject to Action`1--><path d="M256.86,208.13 C253.78,226.39 255.3,246.91 261.4,262.96 " fill="none" id="RollbackObject-&gt;Action`1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="263.45,267.79,263.6331,257.9428,261.5046,263.184,256.2635,261.0555,263.45,267.79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="33.0283" y="258.8248">OnSave&lt;(int fps, object state)&gt;</text><!--MD5=[d2800dca0badf72a1bedbd2cb9c21907]
link RollbackObject to Action`1--><path d="M282.07,208.13 C281.07,226.23 281.55,246.55 283.5,262.54 " fill="none" id="RollbackObject-&gt;Action`1-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="284.22,267.79,286.9758,258.3346,283.5489,262.8352,279.0482,259.4083,284.22,267.79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="310.3344" y="256.7482">OnReverse&lt;(int fps, object state)&gt;</text><!--MD5=[d2800dca0badf72a1bedbd2cb9c21907]
link RollbackObject to Action`1--><path d="M307.28,208.13 C308.34,226.23 307.83,246.55 305.76,262.54 " fill="none" id="RollbackObject-&gt;Action`1-2" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="305,267.79,310.2461,259.4546,305.7151,262.8414,302.3283,258.3104,305,267.79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="-46.2964" y="271.3271">OnReverseError&lt;(int fps, int fpsToReverse)&gt;</text><!--MD5=[d2800dca0badf72a1bedbd2cb9c21907]
link RollbackObject to Action`1--><path d="M332.49,208.13 C335.62,226.39 334.08,246.91 327.86,262.96 " fill="none" id="RollbackObject-&gt;Action`1-3" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="325.78,267.79,333.0269,261.1205,327.7668,263.2017,325.6857,257.9416,325.78,267.79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="392.5416" y="256.5832">OnUndo&lt;(int fps, object state)&gt;</text><!--MD5=[035f4170d7d2203d2452b899b7f3851e]
link RollbackObject to Action--><path d="M336.27,208.13 C353.54,226.71 372.98,247.62 388.01,263.78 " fill="none" id="RollbackObject-&gt;Action" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="391.73,267.79,388.5121,258.4817,388.3179,264.1352,382.6644,263.941,391.73,267.79" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="323.0595" y="256.7482">OnUndoError</text><!--MD5=[70ca0fbc5bdd42b93fcd830ab43adb33]
@startuml
class RollbackObject <<sealed>> {
    Save(_state:object) : void
    Reverse(fpsToReverse:int) : void
    Undo() : void
}
class "Action`1"<T> {
}
IRollback <|- - RollbackObject
RollbackObject - -> "OnSave<(int fps, object state)>" "Action`1"
RollbackObject - -> "OnReverse<(int fps, object state)>" "Action`1"
RollbackObject - -> "OnReverseError<(int fps, int fpsToReverse)>" "Action`1"
RollbackObject - -> "OnUndoError" Action
RollbackObject - -> "OnUndo<(int fps, object state)>" "Action`1"
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>